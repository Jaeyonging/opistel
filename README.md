# 🏢 전국 주거시설 실거래가 조회 서비스

전국의 오피스텔, 아파트, 연립/다세대, 단독/다가구 실거래가를 한 번에 확인할 수 있는 React 기반 웹 애플리케이션입니다. 날짜, 지역, 유형 필터를 조합하면 원하는 조건의 거래 데이터를 즉시 받아볼 수 있고, 페이지네이션으로 많은 결과도 매끄럽게 탐색할 수 있습니다.

**배포 URL**: [https://opistel.vercel.app/](https://opistel.vercel.app/)

---
- **전 페이지 데이터 집계 + 검색 최적화**  
  - React Query가 필터별로 모든 페이지를 순차 호출해 한 번의 `newdata` 배열에 모아 두기 때문에, 검색은 항상 “전체 결과”를 기준으로 수행됩니다.  
  - 클라이언트에서 페이지네이션을 적용하므로 검색어를 바꿔도 즉시 필터링된 결과와 정확한 페이지 수를 확인할 수 있습니다.

- **React Query & Zustand 정비**  
  - `["GetOpistelData", code, date]` 등 필터 기반 캐시 키로 단순화하고, 요청마다 데이터/총건수/페이지 크기를 Zustand에 저장해 컨테이너들이 공통 로직만 사용하도록 했습니다.

- **페이지네이션 UX 향상**  
  - 이전/다음 버튼 클릭 시 카드 목록 최상단으로 스크롤 이동, 비활성화 상태 처리 등 사용자 경험을 수정했습니다.
- **Fetch 컨테이너 공통화**  
  - 모든 주거 유형에서 동일한 필터·검색·페이지네이션 패턴을 유지하도록 컨테이너를 리팩토링했고, 월 포맷팅(`01`, `02` …)도 통일했습니다.

---

## ✨ 주요 기능

- **지역 & 상세 지역 선택**: 17개 시도 + 시군구 단위 상세 지역까지 선택 가능  
- **연·월 필터링**: 원하는 기간의 실거래 데이터를 즉시 조회  
- **유형 스위칭**: 오피스텔 / 아파트 / 연립다세대 / 단독다가구 간 손쉬운 전환  
- **검색창**: 주소나 건물명으로 빠르게 필터링 (프론트 검색)  
- **페이지네이션**: API에서 내려준 총 건수 기반으로 정확한 페이지 계산  
- **반응형 UI**: Tailwind CSS로 모바일부터 데스크톱까지 일관된 경험  
- **GA4 연동**: 페이지 이동 시 Google Analytics 이벤트 전송

---

## 🛠️ 기술 스택

| 영역 | 사용 기술 |
|------|-----------|
| 언어 & 런타임 | React 18, TypeScript 4.9, Vite 4 |
| 상태 관리 | React Query 3, Zustand 5 |
| 네트워크 | Axios 1.6 |
| 스타일링 | Tailwind CSS 3 |
| 기타 | React Router DOM 6, React GA4, Lottie |
| 배포 | Vercel |

---

## 📁 프로젝트 구조

```
opistel/
├── public/
├── src/
│   ├── api/               # API 모듈 (Axios + React Query)
│   ├── boundary/          # 에러 바운더리
│   ├── components/
│   │   ├── button/
│   │   ├── card/
│   │   ├── common/        # Footer, Pagination, SearchInput 등
│   │   ├── container/     # 주거유형별 리스트 컨테이너
│   │   └── picker/        # Type/Date/Region/Location 선택 컴포넌트
│   ├── lotties/
│   ├── routes/            # 페이지 (Home)
│   ├── store/             # Zustand 상태
│   ├── types/
│   ├── App.tsx
│   └── main.tsx
├── package.json
├── tailwind.config.js
├── tsconfig.json
└── vite.config.ts
```

---

## ⚙️ 실행 방법

```bash
# 의존성 설치
npm install

# 개발 서버
npm run dev

# 타입 체크 + 프로덕션 빌드
npm run build

# 빌드 결과 미리보기
npm run preview
```

브라우저에서 `http://localhost:5173`으로 접근하면 개발 서버를 확인할 수 있습니다.

---

## 🧠 리팩토링하면서 느낀 점 & 배운 점

- **데이터 정규화 + 전체 데이터 로딩**  
  - 검색 경험을 위해 모든 페이지 데이터를 메모리에 적재하는 전략을 선택했습니다. 대량 데이터에서는 네트워크 비용이 올라가지만, 사용자가 한 번에 모든 결과를 검색할 수 있고 API가 검색 파라미터를 제공하지 않는 상황에서는 좋은 방법인 것 같습니다. 

- **쿼리 키 설계가 곧 UX**  
  - `["GetOpistelData", code, date]`처럼 필터 기반 키로 정리하니 지역/기간을 바꿔도 이전 데이터가 섞이지 않고 즉시 갱신되었습니다. React Query 설계가 UX와 직결됨을 다시 느꼈습니다.

- **전역 상태는 작고 명확하게**  
  - Zustand에는 “렌더링에 필요한 최소 데이터(전체 리스트, 총 건수, 페이지 크기)”만 보관하고 나머지는 컴포넌트에서 파생시키니 스토어와 UI가 동시에 단순해졌습니다.

- **작은 UX 디테일이 만족도를 올린다**  
  - 검색/페이지 이동 시 스크롤을 카드 상단으로 이동시키고, 마지막 페이지를 벗어나면 자동으로 재조정해 주니 사용자가 길을 잃지 않습니다. 이러한 디테일이 실제 서비스 만족도를 좌우한다고 느꼈습니다.

이번 리팩토링을 통해 “필터 조건 별로 어떤 데이터를 언제, 어디까지 가져올까”라는 흐름을 확실히 설계하는 것이 얼마나 큰 안정감을 주는지 체감했습니다. 앞으로도 화면을 만들기 전에 데이터 수집·가공 전략부터 명확히 하는 습관을 유지하려 합니다.

